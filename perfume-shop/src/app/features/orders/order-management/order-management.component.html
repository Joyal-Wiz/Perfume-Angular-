<div class="order-container" *ngIf="order">

  <!-- ORDER HEADER -->
  <div class="header">
    <h2>Order Details</h2>
    <span class="order-id">Order #{{ order.id }}</span>

    <span class="status" [class.placed]="order.status === 'Placed'"
                        [class.cancelled]="order.status === 'Cancelled'">
      {{ order.status }}
    </span>
  </div>

  <!-- DELIVERY DETAILS -->
  <div class="section">
    <h3>Delivery Details</h3>

    <div class="delivery-box">
      <p><strong>Name:</strong> {{ order.checkout?.name }}</p>
      <p><strong>Address:</strong> {{ order.checkout?.address }}</p>
      <p><strong>cardNo:</strong> {{ order.checkout?.card }}</p>
    <p><strong>Email:</strong> {{ order.checkout?.email }}</p>
    </div>
  </div>

  <!-- ORDERED ITEMS -->
  <div class="section">
    <h3>Ordered Products</h3>

    <div class="items">

      <div class="item-card" *ngFor="let item of order.items">
        <img [src]="item.image" class="item-img">

        <div class="info">
          <h4>{{ item.name }}</h4>
          <p class="qty">Quantity: {{ item.quantity }}</p>

          <p class="price">
            ₹{{ (item.price - (item.price * item.discount) / 100) * item.quantity }}
          </p>
        </div>
      </div>

    </div>
  </div>

  <!-- TOTAL -->
  <div class="section total-box">
    <h3>Total Amount</h3>
    <p class="amount">₹{{ order.total }}</p>
  </div>

  <!-- CANCEL BUTTON -->
  <button 
    *ngIf="order.status === 'Placed'"
    class="cancel-btn"
    (click)="cancelOrder()">
    Cancel Order
  </button>

</div>
